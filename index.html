<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"miucun97.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Miucun&#39;s blog">
<meta property="og:url" content="https://miucun97.github.io/index.html">
<meta property="og:site_name" content="Miucun&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Miucun">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://miucun97.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Miucun's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Miucun's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
	
		  
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://miucun97.github.io/2022/01/22/%E4%B8%89%E5%91%A8%E6%80%BB%E7%BB%9320220101-20220122/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Miucun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Miucun's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/22/%E4%B8%89%E5%91%A8%E6%80%BB%E7%BB%9320220101-20220122/" class="post-title-link" itemprop="url">三周总结20220101-20220122</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-22 20:34:02" itemprop="dateCreated datePublished" datetime="2022-01-22T20:34:02+08:00">2022-01-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-23 00:39:47" itemprop="dateModified" datetime="2022-01-23T00:39:47+08:00">2022-01-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前言：好久没写总结了，距离上次写竟然20天了；因为前半段时间都在做着非开发的事情，但偶尔会兼顾一下开发，遇到的问题其实一直都有做记录的，只是没时间总结在一起而已！！因为转换成Ubuntu了，所以新系统又要重新下载很多很多东西，比如说git，npm，node，java jdk和jre等等，今天一整个下午都在弄这个，还是很不熟悉文件系统，总是会思考代码工作目录应该放在哪个目录呢，会不会全部系统默认安装导致类似的window那样c盘爆满（linux是文件系统哦，好像也不会出现这么尴尬的事情，额好吧还是不太清楚）</p>
<p><strong>一、关于使用HashMap无法获取值为null的字段</strong></p>
<p>后端开发（Springboot，mybatis），在编写xml文件时，返回的类型是HashMap，但是数据库中有存在null值的字段，导致返回的结果没有该字段。</p>
<p>解决方法：配置application.properties文件中添加该行即可</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mybatis.configuration.call-setters-on-nulls</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure>

<p><strong>二、mybatis sql语句写错出现的bug</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.jdbc.BadSqlGrammarException:</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;values</span></span></span><br><span class="line">        (&#x27;xxx&#x27;,&#x27;xxxx&#x27;,&#x27;xxx&#x27;,xxx.&#x27; at line 5</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## The error may exist in file xxxxxx</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## The error may involve xxxxx.addCollectionMapper-Inline</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## The error occurred while setting parameters</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## SQL: insert into performance_collection  (xxxx) values   (xxxxx);</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;values</span></span></span><br><span class="line">        (&#x27;xxx&#x27;,&#x27;xxxx&#x27;,&#x27;xxx&#x27;,xxx.&#x27; at line 5</span><br><span class="line">; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;values</span><br><span class="line">        (&#x27;xxx&#x27;,&#x27;xxxx&#x27;,&#x27;xxx&#x27;,xxx.&#x27; at line 5</span><br><span class="line"></span><br><span class="line">    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)</span><br><span class="line">    at</span><br><span class="line">    ....</span><br></pre></td></tr></table></figure>

<p><em>原因：</em> 就是xml文件中的sql语句写错了，要很细心去看！！我这里就是少了一个括号，吐血！</p>
<p><strong>三、mybatis中sql语句动态注入</strong></p>
<p>场景：我有四个表的结构是一模一样的，只是因为业务原因需要将数据分开存储，但是在编写xml中不想写四次语句，这样子的代码不利于复用，上网找了很久的解决方法，参考了这篇文章：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_46660780/article/details/109176066">mybatis插入动态表名_MrYshen的博客-CSDN博客_mybatis 动态插入表</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">parameterTypes</span>=<span class="string">&quot;java.lang.String&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">insert</span> <span class="attr">into</span> $&#123;广义表名&#125; () <span class="attr">values</span> ()</span></span><br><span class="line"><span class="tag">&lt;/<span class="attr">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>广义表名就是通过外部传入值，但是${}这种方式好像是不安全的，还有待考究！</p>
<p>四、关于出现Raw use of parameterized class ‘HashMap’的问题</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> Inspection info: Reports any uses of parameterized classes where the type parameters are omitted. Such raw uses of parameterized types are valid in Java, but defeat the purpose of using type parameters, and may mask bugs. This inspection mirrors the rawtypes warning of javac.</span><br></pre></td></tr></table></figure>

<p>情景：返回类型是List&lt; HashMap &gt;时出现的警告，&lt;&gt;里面是泛型，故不能这么写，改为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;HashMap&lt;String,Object&gt;&gt; getList();</span><br></pre></td></tr></table></figure>

<p><strong>五、关于更换电脑或系统时deploy hexo时出现的问题</strong></p>
<p>在我满怀期待以为码完这篇总结就可以摊着玩手机时，出现了这个问题：</p>
<img title="" src="../images/assets/ac894cfbbf01dc240c2f9c2eb2d0461b6f00b347.png" alt="Screenshot from 2022-01-22 23-29-01.png" data-align="center">

<p>我就知道推送的时候肯定会出现什么毛病，关键词 publickey，对的，github仓库需要添加新的ssh公钥，如何在linux系统生成ssh公钥呢，于是参考了这篇文章：<a target="_blank" rel="noopener" href="https://blog.csdn.net/u013687821/article/details/41861927">在ubuntu系统上生成SSH密钥，并把对应的公开密钥添加到GitHub账户_若要走的专栏-CSDN博客_ubuntu生成ssh密钥</a></p>
<p>按照步骤完全是可以搞定的哦，最后deploy一下果然成功了，故回来再次记录一下;</p>
<p>但是图片相对路径这里弄了好久，如下图：</p>
<img title="" src="../images/assets/dc94c70964420cff91783cfeed441ee4cb1576ff.png" alt="Screenshot from 2022-01-23 00-13-24.png" data-align="center">

<img title="" src="../images/assets/4092c7b09c3d9582f887554355d69d0fd37f41ea.png" alt="Screenshot from 2022-01-23 00-13-36.png" data-align="center">

<p>但是我的文件夹名字变成了这样：</p>
<img title="" src="../images/assets/ad1ff94d8daa709d70d401abf89d3ecd49a26740.png" alt="Screenshot from 2022-01-23 00-16-03.png" data-align="center">

<p>很明显这不是我想要的，原来使用的Typora它是可以根据${filename}获取到目录名字，显然这里不是很智能？我去marktext的issue里查看了一下，这个问题似乎还没被解决</p>
<p><strong>最后</strong> 唠嗑一下，这篇文章是使用Markext的软件来写的，还是不太熟悉配置，还是全英文唉。以上的都是最近在做接口开发时遇到的小问题，虽然问题不大，但当写代码写到头晕眼花时，这些还挺让人心烦的啧，希望过年前可以搞定。吐槽一下，为什么Linux向日葵不能复制粘贴啊！！有毒！下次有空的话打算看看能不能添加一个评论功能。</p>
<p>有什么错误或问题可以邮箱联系: <a href="mailto:&#109;&#105;&#117;&#x63;&#117;&#x6e;&#x6c;&#101;&#x65;&#64;&#x67;&#x6d;&#97;&#x69;&#x6c;&#46;&#99;&#x6f;&#109;">&#109;&#105;&#117;&#x63;&#117;&#x6e;&#x6c;&#101;&#x65;&#64;&#x67;&#x6d;&#97;&#x69;&#x6c;&#46;&#99;&#x6f;&#109;</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

	
	
	
		  
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://miucun97.github.io/2021/12/27/%E4%B8%A4%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%9320211220-20211231/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Miucun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Miucun's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/27/%E4%B8%A4%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%9320211220-20211231/" class="post-title-link" itemprop="url">两周小总结20211220-20211231</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-27 21:01:47" itemprop="dateCreated datePublished" datetime="2021-12-27T21:01:47+08:00">2021-12-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-23 00:32:42" itemprop="dateModified" datetime="2022-01-23T00:32:42+08:00">2022-01-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前言：这两周基本上都没有做开发的事情，所以没怎么遇到开发的问题，但闲的时候有浏览一下技术类的小文章，看到了比较有趣的算法题及其思路；写这篇小总结的时候已经是2022年的元旦了，年终总结还没写，唉；不过新的一年，给自己送的新年礼物是Linux系统，导致1号凌晨4点才睡….</p>
<p><strong>一、算法题</strong></p>
<p>问题：你有2颗鸡蛋，需要以最少的尝试次数来判断在100层的高楼上，哪一层楼是鸡蛋的安全层（低于该层鸡蛋不会摔碎，高于该层都会摔碎），假设没有摔碎的鸡蛋可以重复使用，每颗鸡蛋的坚硬程度都是相同的。</p>
<p><em>1、初始思路</em></p>
<p>从低往高一层一层试，这应该是最简单的思路；当然，耗时也很多，浪费一颗鸡蛋。</p>
<ul>
<li><p>最好情况：1次</p>
</li>
<li><p>最坏情况：100次</p>
</li>
</ul>
<p><strong>后面的几种思路都是看到文章提供的；</strong></p>
<p><em>2、二分法思路</em></p>
<p>从中间扔下去，若不碎，可以继续从第75层试…</p>
<p>若碎了，回到方法一</p>
<ul>
<li><p>最好情况：2次</p>
</li>
<li><p>最坏情况：50次</p>
</li>
</ul>
<p><em>3、均衡切割</em></p>
<p>将100层切分成若干各区域，一颗鸡蛋用于确定区域，另一颗鸡蛋用于确定楼层；</p>
<p>假若均分为10个区域，测试者从低往高，每10层扔一个鸡蛋，若鸡蛋破碎，则在该区域从低往高继续测试；</p>
<ul>
<li>最优：2次（NO.1）</li>
<li>最坏：19次（NO.100）</li>
</ul>
<p><em>4、第三种思路的改良</em></p>
<p>最终的测试次数，高楼层区域总是会比低楼层区域多，因为在定位区域时是从低往高测试，例：NO.18与NO.98层的测试次数。=&gt;区块完全均匀划分对大数不利。</p>
<p>解决：低楼层区域，楼层范围扩大；高楼层区域所含楼层减少。用第二颗鸡蛋尝试次数的减少来弥补第一颗鸡蛋需要尝试次数的递增。</p>
<p>每上一个区域，第一颗鸡蛋消耗的次数+1，因此可以让每个区块包含的楼层数逐级-1；</p>
<p>若第一区域有n层，则第二区域有n-1层……第n个区域1层</p>
<p>n+(n-1)+(n-2)+…+4+3+2+1&gt;=100</p>
<p>得n最小值是14，测试总次数不会超过14次。</p>
<hr>
<p>当然，以上只是数学思维，不考虑实际。这里也只是记录一下我看到的算法题。悄咪咪看了评论还是有好多方法，瞄到有位大哥认为二分法更容易；因为之前备研有准备过数据结构这门课，感觉这里的解决思路倒是比较像查找那一章：顺序查找，二分查找……忽然间有感而发，原来之前一直在学习的知识会在某个地方会运用到，果然还是要多学习。</p>
<p><strong>二、安装Linux系统</strong></p>
<p>准备工作大概一个星期，浏览如何在自己的老电脑上安装双系统，如何分区比较好，跑去各个网站看视频看博客，最后决定将Linux系统安装在移动固态硬盘，因为老电脑的硬盘是HDD，再分一些空间给Linux的话，大概会卡到运行不了。Linux多个发行版本，权衡之下选择Ubuntu。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--硬件清单</span><br><span class="line">-cpu Intel(R) Core(TM) i5-6200U CPU @ 2.30GHz</span><br><span class="line">-RAM 4G+8G</span><br><span class="line">-type 64位</span><br><span class="line">-ssd samsung portable ssd T5 500G</span><br><span class="line">-空u盘 32G</span><br><span class="line"></span><br><span class="line">--软件清单</span><br><span class="line">- rufus-3.17</span><br><span class="line">- ubuntu-18.04.6-desktop-amd64.iso</span><br></pre></td></tr></table></figure>

<p>硬件其实只需准备一个移动SSD+U盘，软件准备Ubuntu镜像文件和rufus；SSD将分配240G给Linux。</p>
<p><em>1、下载所需的软件</em></p>
<p>U盘一定是空的！而且是FAT32！然后rufus将Ubuntu镜像文件录入u盘中即可；</p>
<p><em>2、ssd分区</em></p>
<p>因为是新买的ssd，所以刚打开时就是一个主分区，当时还迷惑为什么不能压缩卷……后来参考了许多文章，原来要先删除卷，再新建。先给Ubuntu的240G分一个区，剩下的再分一个区；再将Ubuntu那个区删了，使之变成未分配的状态（不删的话等着重新登回window再分区吧，别问我为什么，因为鄙人就这么踩坑了，导致后面更多bug了，本来老电脑的window就慢了）。</p>
<p><em>3、安装Ubuntu</em></p>
<p>同时插入U盘和移动ssd，关闭电脑-&gt;重新开机-&gt;进入BIOS系统（我的是惠普电脑，疯狂按F10）-&gt;修改启动选项顺序，u盘或硬盘在前-&gt;进入Ubuntu安装引导页面啦！</p>
<p>安装的教程很多，自行查看就可以了；注意分区的时候选择自定义，别选默认或者抹除（如果你打算只装一个Linux的话可以这么选）；</p>
<p>我的分区（记不清了，好像是这样的）：</p>
<ul>
<li>efi 逻辑分区 400M</li>
<li>/swap 逻辑分区 12G （因为我的内存是12G）</li>
<li>/   ext4 主分区 100G</li>
<li>/home ext4 主分区 剩下的都是它的</li>
</ul>
<p>然后等待一段时间就安装完成了，重新启动即可；</p>
<p>注意重新启动的时候要拔掉U盘，然后将Ubuntu引导程序设为window的前面；</p>
<p><em>4、安装过程中的坑</em></p>
<p>（1）ssd分区后，分给Linux的忘记将它变回未分配状态，导致在安装Linux时，又要中断安装打开window操作。</p>
<p>（2）重新分区后，再次重新安装，启动电脑出现新的问题：</p>
<p><img src="../images/%E4%B8%A4%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%9320211220-20211231/%E5%9D%911-1641053396447.png" alt="坑1"></p>
<p>大概是找不到目录下的这个文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--解决方法</span><br><span class="line">将启动U盘中 /EFI/BOOT/gxxx.EFI（名字我忘了，g开头的）改为mmx64.EFI即可</span><br></pre></td></tr></table></figure>

<p>（3）解决完坑2后，又有新的问题出现：</p>
<p><img src="../images/%E4%B8%A4%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%9320211220-20211231/%E5%9D%912.png" alt="坑2"></p>
<p>？？？？无效签名？需要加载内核？之前不是才可以吗？忽然间想起之前学过的操作系统这门课，访问内核好像是需要安全权限的，猜测是这个原因。上网一搜，让我关掉安全模式，记得安装完后重新开回安全模式；</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--解决方法</span><br><span class="line">进入BIOS禁用安全模式即可</span><br></pre></td></tr></table></figure>

<p>(4)系统已经成功安装完了，也可以正常用了；但我拔掉ssd后，重新开机，出现新问题，连window都开不了了！</p>
<p><img src="../images/%E4%B8%A4%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%9320211220-20211231/%E5%9D%913.png" alt="坑3"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--解决方法</span><br><span class="line">将window引导程序设回在Ubuntu前面，或者插回ssd，Ubuntu引导程序中选择window登录</span><br></pre></td></tr></table></figure>

<p>出现这种情况的原因是：我的Ubuntu引导程序是安装在ssd中，然后现在拔掉了，启动顺序又是Ubuntu先，自然就会出现这样的问题。</p>
<p><strong>小结</strong></p>
<p>因为基本上是第一次操作Linux系统，基本小白一个，连中文输入法都安装不了…捣鼓着就3点了，再看了会手机，好家伙4点了。只能第二天起床再捣鼓，成功弄了中文输入法，也安装了科学上网的软件，打算再学一下shell命令等再将开发编辑器下载到系统中；使用感受：果然固态硬盘还是快，不知道是因为硬盘的原因还是系统的原因，连科学上网的速度都快了。好的，新年礼物收到了！新年快乐哦~又新的一天了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

	
	
		  
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://miucun97.github.io/2021/12/18/%E4%B8%80%E5%91%A8%E5%B0%8F%E7%BB%9320211213-20211219/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Miucun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Miucun's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/18/%E4%B8%80%E5%91%A8%E5%B0%8F%E7%BB%9320211213-20211219/" class="post-title-link" itemprop="url">一周小结20211213-20211219</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-18 22:35:09" itemprop="dateCreated datePublished" datetime="2021-12-18T22:35:09+08:00">2021-12-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-23 00:32:15" itemprop="dateModified" datetime="2022-01-23T00:32:15+08:00">2022-01-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>吐槽：这一周忽然间任务就堆积过来了，希望月底前可以弄完项目吧~</p>
<p><strong>一、关于Springboot+pageHelper由于版本问题引起的bug：Is there an unresolvable circular reference</strong></p>
<p><em>1、bug流程</em></p>
<p>项目中要用到分页查询的功能，不想在前端做分页因此决定在后端做分页，之前项目是有做过分页查询的，于是就直接复制代码过去这次的项目。事情肯定没这么简单，在测试的时候出现美丽的红色(格式不会调…好丑)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">Caused by: org.springframework.beans.factory.BeanCreationException: Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name <span class="string">&#x27;com.github.pagehelper.autoconfigure.PageHelperAutoConfiguration&#x27;</span>: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name <span class="string">&#x27;com.github.pagehelper.autoconfigure.PageHelperAutoConfiguration&#x27;</span>: Requested bean is currently <span class="keyword">in</span> creation: Is there an unresolvable circular reference?</span><br><span class="line">    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean<span class="variable">$0</span>(AbstractBeanFactory.java:335)</span><br><span class="line">    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)</span><br><span class="line">    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)</span><br><span class="line">    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)</span><br><span class="line">    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)</span><br><span class="line">    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)</span><br><span class="line">    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)</span><br><span class="line">    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)</span><br><span class="line">    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)</span><br><span class="line">    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)</span><br><span class="line">    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)</span><br><span class="line">    ... 69 more</span><br><span class="line">Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name <span class="string">&#x27;com.github.pagehelper.autoconfigure.PageHelperAutoConfiguration&#x27;</span>: Requested bean is currently <span class="keyword">in</span> creation: Is there an unresolvable circular reference?</span><br><span class="line">    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355)</span><br><span class="line">    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)</span><br><span class="line">    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean<span class="variable">$0</span>(AbstractBeanFactory.java:335)</span><br><span class="line">    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)</span><br><span class="line">    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)</span><br><span class="line">    at org.springframework.context.annotation.ConfigurationClassEnhancer<span class="variable">$BeanMethodInterceptor</span>.resolveBeanReference(ConfigurationClassEnhancer.java:362)</span><br><span class="line">    at org.springframework.context.annotation.ConfigurationClassEnhancer<span class="variable">$BeanMethodInterceptor</span>.intercept(ConfigurationClassEnhancer.java:334)</span><br><span class="line">    at com.github.pagehelper.autoconfigure.PageHelperAutoConfiguration$$EnhancerBySpringCGLIB$<span class="variable">$774ffedf</span>.pageHelperProperties(&lt;generated&gt;)</span><br><span class="line">    at com.github.pagehelper.autoconfigure.PageHelperAutoConfiguration.addPageInterceptor(PageHelperAutoConfiguration.java:75)</span><br><span class="line">    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span><br><span class="line">    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">    at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor<span class="variable">$LifecycleElement</span>.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)</span><br><span class="line">    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor<span class="variable">$LifecycleMetadata</span>.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)</span><br><span class="line">    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)</span><br><span class="line">    ... 86 more</span><br></pre></td></tr></table></figure>

<p>老实说我懵了，Is there an unresolvable circular reference–循环注入？不是复制过来的吗？难道是版本的原因？</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- pageHelper版本 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>于是把version注释了，让版本自动生成，但是在码分页代码时，PageHelper包引用出错了….</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PageHelper.startPage(pageNum,pageSize);</span><br></pre></td></tr></table></figure>

<p>是插件有问题吗？上网搜，有博主说是：猜测pageHelper.jar版本与MyBatis版本不兼容。但看了两个项目，mybatis都是2.2.0。</p>
<p>接着又去了maven仓库找，见到有两个分页插件，就尝试了另外一个插件：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>好家伙，没有报错了！后面测试，好样的，没有错误！！！就是分页没有起效果罢了，呵呵c！</p>
<p>难道是我使用的方法不对？我又去翻度娘，这个插件似乎要在启动类那里添加配置，经测试，失败。</p>
<p>有人说要把两个插件同时放入xml文件，测试后，失败，还是会出现刚开始的错误。</p>
<p>乏了~</p>
<p>兜兜转转回到原来的错误，那应该还是版本的问题，既然不是和mybatis版本有冲突，难道是和springboot版本有冲突？查看了两个项目的springboot的版本，果然，旧项目是2.5.5，新项目是2.6.0。果断更改，再测试，还是出错了，但是另外一个错误(只要看SQL: select * from a ; LIMIT ?即可)：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.jdbc.BadSqlGrammarException: </span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;LIMIT 15&#x27; at line 1</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## The error may exist in file [这里隐藏目录哈]</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## The error may involve defaultParameterMap</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## The error occurred while setting parameters</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## SQL: select * from a ; LIMIT ?</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;LIMIT 15&#x27; at line 1</span></span></span><br><span class="line">; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;LIMIT 15&#x27; at line 1</span><br><span class="line"></span><br><span class="line">    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)</span><br><span class="line">    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)</span><br><span class="line">    at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)</span><br><span class="line">    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)</span><br><span class="line">    at com.sun.proxy.$Proxy67.selectList(Unknown Source)</span><br><span class="line">    at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)</span><br><span class="line">    at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)</span><br><span class="line">    at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)</span><br><span class="line">    at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)</span><br><span class="line">    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)</span><br><span class="line">    at com.sun.proxy.$Proxy68.getInformation(Unknown Source)</span><br><span class="line">    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span><br><span class="line">    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">    at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)</span><br><span class="line">    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)</span><br><span class="line">    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)</span><br><span class="line">    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)</span><br><span class="line">    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)</span><br><span class="line">    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)</span><br><span class="line">    at com.sun.proxy.$Proxy69.getInformation(Unknown Source)</span><br><span class="line">    at com.zsshky.servive.impl.InformationServiceImpl.getAllInformationByPage(InformationServiceImpl.java:24)</span><br><span class="line">    at com.zsshky.ProjectNoise105ApplicationTests.contextLoads(ProjectNoise105ApplicationTests.java:56)</span><br><span class="line">    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span><br><span class="line">    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">    at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)</span><br><span class="line">    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)</span><br><span class="line">    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)</span><br><span class="line">    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)</span><br><span class="line">    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)</span><br><span class="line">    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)</span><br><span class="line">    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)</span><br><span class="line">    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)</span><br><span class="line">    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)</span><br><span class="line">    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)</span><br><span class="line">    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)</span><br><span class="line">    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)</span><br><span class="line">    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)</span><br><span class="line">    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)</span><br><span class="line">    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)</span><br><span class="line">    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)</span><br><span class="line">    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)</span><br><span class="line">    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)</span><br><span class="line">    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)</span><br><span class="line">    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)</span><br><span class="line">    .....</span><br></pre></td></tr></table></figure>

<p>就是xml中的sql语句多写了个分号！！！！当时太累了，以为还是没有解决。后面再兜了10分钟，终于看清错误了！这里感谢这位博主，那十分钟就是兜去这里确认了原解决方法没有问题。</p>
<p>文章链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/layonly/article/details/121436957">https://blog.csdn.net/layonly/article/details/121436957</a></p>
<p><strong>总结：</strong>springboot 2.6.0版本会与pageHelper起冲突，还有mapper.xml里面mysql语句分号问题。</p>
<p><strong>二、关于在xml文件Mysql语句中条件有大于或小于时应如何写</strong></p>
<p>有查询数据库时需要用到大于或小于某个条件，直接用navicat里写没什么问题，但在xml时不能直接写&gt;、&lt;。</p>
<p>解决：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- where 后的条件使用如下的形式--&gt;</span></span><br><span class="line">where &lt;![CDATA[你的条件]]&gt;</span><br></pre></td></tr></table></figure>

<p>经测试，木有问题。</p>
<p><strong>一周小结：</strong>这一周花了些时间在excel处理中还有其他的事情中，所以写代码的时间少了，总结暂时到此，若明天周日还有，将继续补充。</p>
<p>有什么错误或问题可以邮箱联系: <a href="mailto:&#109;&#x69;&#x75;&#99;&#x75;&#110;&#x6c;&#x65;&#101;&#64;&#x67;&#109;&#x61;&#105;&#x6c;&#x2e;&#x63;&#x6f;&#109;">&#109;&#x69;&#x75;&#99;&#x75;&#110;&#x6c;&#x65;&#101;&#64;&#x67;&#109;&#x61;&#105;&#x6c;&#x2e;&#x63;&#x6f;&#109;</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

	
	
		  
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://miucun97.github.io/2021/12/12/%E4%B8%80%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Miucun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Miucun's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/12/%E4%B8%80%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">一周小总结20211206-20211212</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-12 22:48:25" itemprop="dateCreated datePublished" datetime="2021-12-12T22:48:25+08:00">2021-12-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-18 23:32:13" itemprop="dateModified" datetime="2021-12-18T23:32:13+08:00">2021-12-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>一、关于gson的使用</strong></p>
<p><em>1、前言</em></p>
<p>​    首先项目使用的是Uniapp+Springboot；在上一次的项目开发中，前端传递较复杂的Json格式的数据，然后在后端获取数据时踩了几次坑。（后端是通过gson来解析json格式的数据，接口参数是String类型）。数据格式经常如下图：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    name: <span class="string">&quot;aaa&quot;</span>,</span><br><span class="line">    sex: <span class="string">&quot;none&quot;</span>,</span><br><span class="line">    birth: <span class="string">&quot;1997-01-01&quot;</span>,</span><br><span class="line">    favorite_book:[</span><br><span class="line">        &#123;</span><br><span class="line">            book_name: <span class="string">&quot;骆驼祥子&quot;</span>,</span><br><span class="line">            author: <span class="string">&quot;老舍&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            book_name: <span class="string">&quot;假如给我三天光明&quot;</span>,</span><br><span class="line">            author: <span class="string">&quot;海伦·凯勒&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    虽然后端接收到的是String类型的字符串，但它依旧是Json格式的，因此需要转换；当时是有两个pojo类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Person类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="keyword">private</span> String birth;</span><br><span class="line">	......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Book类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String book_name;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">	......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    如何将收到的数据转化成一个个类，再存进数据库中呢？当时使用的是如下方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//info就是Json格式的字符串，from前端</span></span><br><span class="line">Person person=<span class="keyword">new</span> Gson().fromJson(info, Person.class);</span><br><span class="line">Map map=<span class="keyword">new</span> Gson().fromJson(info, Map.class);</span><br><span class="line">List l=(ArrayList)map.get(<span class="string">&quot;favorite_book&quot;</span>);</span><br><span class="line">List&lt;Book&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j&lt;l.size();j++)&#123;</span><br><span class="line">	String JsonString = <span class="keyword">new</span> Gson().toJson(l.get(j));</span><br><span class="line">    Account acc =  <span class="keyword">new</span> Gson().fromJson(JsonString, Book.class);</span><br><span class="line">    list.add(acc);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    实不相瞒，这是出现bug后师傅帮修正的方法，我原来的想法是使用TypeToken的方法，快速便捷：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Book&gt; expenditureInfoList = <span class="keyword">new</span> Gson().fromJson(info, <span class="keyword">new</span> TypeToken&lt;List&lt;Book&gt;&gt;() &#123;&#125;.getType());</span><br></pre></td></tr></table></figure>

<p>​    是的，我是傻子，很明显出错，fromJson的第一个参数不应该是info，应该是Array格式的String字符串或者其他。如何获取info中的favorite_book呢？我使用了超级麻烦的办法，将Map又转回String类型，再使用一次这个方法，但是bug来了，若某个值为null时，转换就会有bug出现。上一个项目太赶了，没时间想，试了很多种方法的失败，于是就放弃了；</p>
<p><em>2、gson使用</em></p>
<p>​    新项目，刚好今天周末，趁着有空顺便在写代码的时候，稍微看了看json的部分知识，其实我只需要将String转回JsonObject类型就可以获取favorite_book啦，抱着这样的想法，发现果然，gson有这样的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将Json格式的字符串info转成JsonObject</span></span><br><span class="line">JsonObject jsonObject = <span class="keyword">new</span> JsonParser().parse(info).getAsJsonObject();</span><br><span class="line"><span class="comment">//获取favorite_book</span></span><br><span class="line">JsonElement favorite_books = jsonObject.get(<span class="string">&quot;favorite_book&quot;</span>);</span><br><span class="line"><span class="comment">//将JsonElement格式转换为List,fromJson第一个参数可以是JsonElement的格式！！</span></span><br><span class="line">List&lt;Book&gt; bookList = <span class="keyword">new</span> Gson().fromJson(favorite_books, <span class="keyword">new</span> TypeToken&lt;List&lt;Book&gt;&gt;() &#123;&#125;.getType());</span><br></pre></td></tr></table></figure>

<p>​    是的，这样就可以获得List了，为啥当时的自己没有静下心看。初次测试是木有问题，若是后续有问题，再回来补坑了。如果想单独获取name呢？很简单，gson提供转换类型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取name，若是int类型，则是getAsInt().....</span></span><br><span class="line">String name = jsonObject.get(<span class="string">&quot;name&quot;</span>).getAsString();</span><br></pre></td></tr></table></figure>

<p><em>3、小结</em></p>
<p>​    项目前端是一个表单，师傅建议是一个一个参数传，这样子的确不会出错，但我还是想偷懒，想直接Json格式字符串搞定。果然硬啃一下还是好的。如果有出错再说吧，感觉也需要去认真看看Json的知识了，感觉只是了解了皮毛。</p>
<p><strong>二、关于postman的使用</strong></p>
<p><em>1、使用postman传递Json格式的数据</em></p>
<p>​    这是在测试引发的小问题，对的，我真的可以称为坑王，哪里有坑就里面跳。先记录一下如何使用postman传递Json格式的数据。如图：</p>
<p><img src="/images/%E4%B8%80%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%93/image-20211212234244284-1639325114783.png" alt="image-20211212234244284"></p>
<p><img src="/images/%E4%B8%80%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%93/image-20211212234320441-1639325126553.png" alt="image-20211212234320441"></p>
<p><img src="/images/%E4%B8%80%E5%91%A8%E5%B0%8F%E6%80%BB%E7%BB%93/image-20211212234413117-1639325143299.png" alt="image-20211212234413117"></p>
<p>（1）初坑</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.google.gson.stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 7 path $</span><br></pre></td></tr></table></figure>

<p>原因：json格式写错，我多写了一个info，看下面秒懂</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">info&#123;</span><br><span class="line">    name: <span class="string">&quot;aaa&quot;</span>,</span><br><span class="line">    sex: <span class="string">&quot;none&quot;</span>,</span><br><span class="line">    birth: <span class="string">&quot;1997-01-01&quot;</span>,</span><br><span class="line">    favorite_book:[</span><br><span class="line">        &#123;</span><br><span class="line">            book_name: <span class="string">&quot;骆驼祥子&quot;</span>,</span><br><span class="line">            author: <span class="string">&quot;老舍&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            book_name: <span class="string">&quot;假如给我三天光明&quot;</span>,</span><br><span class="line">            author: <span class="string">&quot;海伦·凯勒&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（2）二坑</p>
<p>还是Json数据写错，比如book_name写成了bookName等，可能就会出现null的错误提示，有些时候可能还会不出现错误！就比如项目中，有个recordId是通过UUID自动生成的，如果json数据传递为record_id:”xxxx”，则recordId没有从前端获得值，但是会自己生成！当我需要通过根据recordId更新记录时，就会出现更新不成功的现象，当时的我还以为是sql语句的问题….测试的时候明明没错。</p>
<p><strong>三、关于toString和StringOf的用法</strong></p>
<p><em>1、toString()</em></p>
<p>​    在使用的时候，若值为null的话，是会出错的哦！如果本身值就为null的话需要注意了</p>
<p><em>2、StringOf()</em></p>
<p>​    会将null转为字符串的“null”！！！！</p>
<p><strong>以上就是本周的小结，好像还有一些忘记了，果然有什么要总结的，要及时记录</strong></p>
<p>有什么错误或问题可以邮箱联系: <a href="mailto:&#109;&#105;&#x75;&#x63;&#x75;&#110;&#x6c;&#101;&#x65;&#x40;&#x67;&#x6d;&#x61;&#105;&#108;&#46;&#99;&#x6f;&#x6d;">&#109;&#105;&#x75;&#x63;&#x75;&#110;&#x6c;&#101;&#x65;&#x40;&#x67;&#x6d;&#x61;&#105;&#108;&#46;&#99;&#x6f;&#x6d;</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

	
	
		  
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://miucun97.github.io/2021/12/04/my-first-blog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Miucun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Miucun's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/04/my-first-blog/" class="post-title-link" itemprop="url">my-first-blog</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-12-04 22:21:11 / 修改时间：22:22:48" itemprop="dateCreated datePublished" datetime="2021-12-04T22:21:11+08:00">2021-12-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>我就是个测试呀！</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

	

  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Miucun</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Miucun</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
